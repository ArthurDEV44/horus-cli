=============================================================================
CORRECTIF WSL2 - Résumé des Changements
=============================================================================

PROBLÈME RÉSOLU
---------------
Erreur "EPERM: operation not permitted, read" lors de la première saisie
dans le mode interactif de Horus CLI sous WSL2.

FICHIERS MODIFIÉS
-----------------
1. src/index.ts
   - Ajout de la fonction ensureStdinReady() pour initialiser stdin
   - Gestion des erreurs EPERM dans le gestionnaire uncaughtException
   - Appel de ensureStdinReady() avant le lancement de l'UI Ink

2. src/hooks/use-input-handler.ts
   - Ajout d'un try-catch autour du hook useInput
   - Ignore les erreurs EPERM de lecture stdin

FICHIERS CRÉÉS
--------------
1. CLAUDE.md
   - Documentation complète pour les futures instances de Claude Code
   - Section sur la compatibilité WSL2 ajoutée

2. WSL2_TROUBLESHOOTING.md (anglais)
   - Guide de dépannage détaillé pour WSL2
   - Explications techniques du problème et de la solution

3. CORRECTIF_WSL2.md (français)
   - Documentation en français du correctif
   - Instructions de test et vérification

FICHIERS MODIFIÉS (DOCUMENTATION)
----------------------------------
1. README.md
   - Ajout de "WSL2 : Entièrement compatible" dans les prérequis
   - Nouvelle section "Dépannage" avec solutions WSL2

2. CLAUDE.md
   - Point 6 ajouté dans "Common Pitfalls" pour WSL2

COMMENT TESTER
--------------
1. Recompiler : bun run build
2. Lancer : bun run dev
3. Taper du texte dans le prompt
4. L'erreur EPERM ne devrait plus apparaître

COMPATIBILITÉ
-------------
✅ WSL2 Ubuntu 20.04+
✅ WSL2 Ubuntu 22.04+
✅ Windows Terminal
✅ VS Code terminal intégré
✅ Linux natif
✅ macOS

⚠️ Utiliser Windows Terminal plutôt que PowerShell/CMD

DÉTAILS TECHNIQUES
------------------
- Initialisation proactive de stdin avant qu'Ink ne prenne le contrôle
- Gestionnaire d'erreur global pour intercepter les EPERM transitoires
- Protection au niveau du hook useInput pour éviter les crashes
- Compatibilité maintenue avec tous les environnements (Linux, macOS, WSL2)

=============================================================================
